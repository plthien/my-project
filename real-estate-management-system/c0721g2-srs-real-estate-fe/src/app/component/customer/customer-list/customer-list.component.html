<div class="container-fluid">
  <div class="row">
    <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
      <div class="position-sticky pt-3">
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link text-dark hvr-sweep-to-right pleft0"
               data-bs-parent="#sidebar" aria-current="page"
               href="#">
              <i class="fas fa-tasks fa-fw"></i>
              Quản lý trang web
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-dark hvr-sweep-to-right pleft0"
               href="https://getbootstrap.com/docs/5.1/examples/dashboard/#">
              <i class="fas fa-bell fa-fw"></i>
              Thông báo
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link text-dark hvr-sweep-to-right pleft0"
               [routerLink]="['/employee/list']">
              <i class="fas fa-users fa-fw"></i>
              Quản lý nhân viên
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-dark hvr-sweep-to-right pleft0"
               [routerLink]="['/customer/list']">
              <i class="fas fa-user-tie fa-fw"></i>
              Quản lý khách hàng
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-dark hvr-sweep-to-right pleft0"
               [routerLink]="['/real-estate-new/list-post-approval']">
              <i class="fas fa-city fa-fw"></i>
              Quản lý bài đăng
            </a>
          </li>
          <li>
            <ul class="collapse nav flex-column ms-1" id="news" data-bs-parent="#menu">
              <li class="nav-item">
                <a class="nav-link text-dark hvr-sweep-to-right"
                   href="#">
                  Đăng mới
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-dark hvr-sweep-to-right "
                   href="#">
                  Tin đã đăng
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-dark hvr-sweep-to-right "
                   href="#">
                  Tin nháp
                </a>
              </li>
            </ul>
          </li>
          <li class="nav-item">
            <a class="nav-link text-dark hvr-sweep-to-right pleft0"
               href="https://getbootstrap.com/docs/5.1/examples/dashboard/#">
              <i class="fas fa-hand-holding-usd fa-fw"></i>
              Giao dịch
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-dark hvr-sweep-to-right pleft0"
               href="https://getbootstrap.com/docs/5.1/examples/dashboard/#">
              <i class="far fa-calendar-alt fa-fw"></i>
              Lịch làm việc
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-dark hvr-sweep-to-right pleft0"
               href="https://getbootstrap.com/docs/5.1/examples/dashboard/#">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                   viewBox="0 0 24 24"
                   fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                   stroke-linejoin="round" class="feather feather-layers" aria-hidden="true">
                <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
                <polyline points="2 17 12 22 22 17"></polyline>
                <polyline points="2 12 12 17 22 12"></polyline>
              </svg>
              Hồ sơ biểu mẫu
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-dark hvr-sweep-to-right pleft0"
               href="https://getbootstrap.com/docs/5.1/examples/dashboard/#">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                   viewBox="0 0 24 24"
                   fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                   stroke-linejoin="round" class="feather feather-file-text"
                   aria-hidden="true">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="16" y1="13" x2="8" y2="13"></line>
                <line x1="16" y1="17" x2="8" y2="17"></line>
                <polyline points="10 9 9 9 8 9"></polyline>
              </svg>
              Thống kê
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <!--            <div class="col-md-10">-->
      <h1 class=" d-flex justify-content-center mt-5">Danh sách khách hàng</h1>
      <div class="container mt-5">
        <div class="row">
          <form (ngSubmit)="onSubmit()" #myNgForm="ngForm"
                class=" mx-2  d-flex justify-content-start text-center">
            <div class="col-md-3 ms-sm-auto col-lg-3 fw-bold">
              <input [(ngModel)]="customerName" class="form-control" id="name" type="text" name="customerName"
                     placeholder=" Nhập tên khách hàng">
            </div>
            <div class=" col-md-3 ms-sm-auto col-lg-3 fw-bold">
              <input [(ngModel)]="customerPhone" class="form-control" id="phone" type="text" name="customerPhone"
                     placeholder=" Nhập số điện thoại">
            </div>
            <div class="col-md-3 ms-sm-auto col-lg-3 fw-bold">
              <input [(ngModel)]="customerEmail" class="form-control" id="email" type="email" name="customerEmail"
                     placeholder=" Nhập email">
            </div>
            <div class="col-md-2 ms-sm-auto col-lg-2">
              <input class="btn btn-success" type="submit" value="Tìm kiếm">
            </div>
          </form>
          <div *ngIf="message!=='1'" class="text-left row col-2 fs-5">
            <!-- /.feature title -->
            <h4 class="text-danger fst-italic alert-danger">{{message}}</h4>
          </div>
        </div>
      </div>
      <div class="">
        <div class="mt-3 me-5 table-responsive{-sm|-md|-lg|-xl|-xxl}">
          <table class="table table-striped table-hover container-fluid" >
            <thead class=" bg-warning">
            <tr>
              <th>Mã KH</th>
              <th>Họ và tên</th>
              <th>Ngày sinh</th>
              <th>Địa chỉ</th>
              <th>Số điện thoại</th>
              <th>Email</th>
              <th class="text-center">Giới tính</th>
              <th class="text-center">Hành động</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let item of customers">
              <td>{{item.id}}</td>
              <td>{{item.name}}</td>
              <td>{{item.dateOfBirth | date: "dd-MM-yyyy"}}</td>
              <td>{{item.address}}</td>
              <td>{{item.phoneNumber}}</td>
              <td>{{item.email}}</td>
              <td *ngIf="item.gender == 0; else blockgender" class="text-center">Nam</td>
              <ng-template #blockgender>
                <td class="text-center">Nữ</td>
              </ng-template>
              <td class="text-center">
                <button class="btn btn-danger text-center me-2" (click)="openDialog(item.id)">Xóa</button>
                <button class="btn btn-success text-center" [routerLink]="['/customer/detail/' + item.id]"> Chi tiết
                </button>
              </td>

            </tr>
            </tbody>
          </table>
        </div>
        <div class="me-5 pe-4 ">
          <ul class="pagination pagination-sm justify-content-end  pagination-lg" style="margin:20px 0">
            <div *ngIf="this.page >0 then previous"></div>
            <ng-template #previous>
              <li class="page-item">
                <button
                  (click)="previousClick(1)" class="page-link" type="button">Trang trước
                </button>
              </li>
            </ng-template>
            <li class="page-item">
              <input class="page-link" type="number" value="1" min="1" [max]="totalPages"
                     placeholder="{{totalPages}}" aria-label="Username" [value]="page + 1"
                     aria-describedby="basic-addon1"
                     (change)="findPaginnation($event.target.value)">
            </li>
            <li class="page-item ">
              <span class="input-group-text page-link">{{page + 1}}/{{totalPages}}</span>
            </li>
            <div *ngIf="this.page  < this.totalPages-1 then nexts "></div>
            <ng-template #nexts>
              <li class="page-item">
                <button (click)="nextClick(1)" class="page-link" type="button">Trang sau</button>
              </li>
            </ng-template>

          </ul>

        </div>

      </div>

    </main>

  </div>

</div>


